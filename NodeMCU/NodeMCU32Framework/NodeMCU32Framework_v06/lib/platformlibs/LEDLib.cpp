///////////////////////////////////////////////////////////////////////////////
//
// LEDLib.cpp
//
// Authors: 	Roel Smeets
// Edit date: 	28-06-2025
//
///////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////////
// system #includes

#include <Arduino.h>

///////////////////////////////////////////////////////////////////////////////
// application #includes

#include "LEDLib.h"

///////////////////////////////////////////////////////////////////////////////
// table with pin assignment for LED's

static const uint8_t G_LEDPins[N_LEDS] =
{
	LED_BUILTIN,	// GPIO pin of blue LED on ESP32 module
	LED_PCB,		// GPIO pin of red LED on PCB
};

///////////////////////////////////////////////////////////////////////////////
// void led_Init(void)

void led_Init(void)
{
	for (uint8_t led = 0; led < N_LEDS; led++)
	{
		pinMode(G_LEDPins[led], 	 OUTPUT); 
		digitalWrite(G_LEDPins[led], LOW); 
	}
}

///////////////////////////////////////////////////////////////////////////////
// bool led_IsValidNumber(uint8_t ledNumber)

bool led_IsValidNumber(uint8_t ledNumber)
{
	return (ledNumber < N_LEDS);	
}

///////////////////////////////////////////////////////////////////////////////
// void led_Set(uint8_t ledNumber, bool ledOn)

void led_Set(uint8_t ledNumber, bool ledOn)
{
	if (led_IsValidNumber(ledNumber))
	{
		digitalWrite(G_LEDPins[ledNumber], ledOn ? HIGH : LOW);
	}
}
