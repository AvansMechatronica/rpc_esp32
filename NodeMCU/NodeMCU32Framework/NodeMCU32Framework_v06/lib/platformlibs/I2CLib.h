///////////////////////////////////////////////////////////////////////////////
//
// I2CLib.h
//
// Authors: 	Roel Smeets
// Edit date: 	29-06-2025
//
///////////////////////////////////////////////////////////////////////////////

#ifndef I2CLIB_H
#define I2CLIB_H

///////////////////////////////////////////////////////////////////////////////
// system includes

#include <Arduino.h>

///////////////////////////////////////////////////////////////////////////////
// I2C pin definitions

#define I2C_SCL_PIN		GPIO_NUM_22
#define I2C_SDA_PIN		GPIO_NUM_21


///////////////////////////////////////////////////////////////////////////////
// I2C error code #define's

#define I2C_BUS_OK					0
#define I2C_BUS_REPAIRED			1
#define I2C_ERR_CLK_LOW				2
#define I2C_ERR_SDA_LOW				3
#define I2C_ERR_CLK_LOW_SLAVE		4


///////////////////////////////////////////////////////////////////////////////
// function prototypes

bool i2c_Init(void);
uint8_t i2c_ClearBus(uint8_t sclPin, uint8_t sdaPin);

///////////////////////////////////////////////////////////////////////////////
// functions for diagnosing I2C bus lockup
// errorCode is return value of function i2c_ClearBus()

uint8_t i2c_GetRepairCount(void);
const char *i2c_GetErrorMessage(uint8_t i2cErrorCode);

#endif	// I2CLIB_H
